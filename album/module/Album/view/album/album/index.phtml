<?php
 // module/Album/view/album/album/index.phtml:

 $title = 'My Albums';
 $this->headTitle($title);
 ?>
<style>
    .active{
        font-size: 17px;
    }
    #a{
        color: white;
    }
    #x{
        width: 400px;
        float:left;
    }
</style>
 <h1><?php echo $this->escapeHtml($title); ?></h1>
 <?php
 if (!$request['page']){
     $request['page']=1;
 }
 if ($request['del']){
     echo "<div class = 'alert alert-danger'>Album ".$request['del']." deleted</div>";        
 }
 ?>
     <a href = "<?php echo $this->url('album', array('action'=>'add'));?>" id ='a'><div class = 'btn btn-primary'>Create New Album</div></a><br><br>
<?php
$form = $this->form;
$form->setAttribute('action', $this->url('album', array('action' => 'index')));
$form->prepare();
echo $this->form()->openTag($form);
echo $this->formInput($form->get('search'))." ";

$form->get('submit')->setAttribute('class','btn btn-success');

echo " ".$this->formSubmit($form->get('submit'))." ";
if($request['search']){
    echo "<a class = 'btn btn-danger' href = '".$this->url('album', array('action' => 'index'))."'>Cancel</a>";
}
echo $this->form()->closeTag();

?>
 <br>
<table class="table table-striped">
     <tr>
         <th><a href="<?php
         echo $this->url('album', array('action' => 'index'))."?page=".$request['page']."&sort=id&order=".($request['ord']['id']+1);
         if ($request[search]){
             echo "&search=".$request[search];
         }
         ?>">Id</a></th>
         <th><a href="<?php
         echo $this->url('album', array('action' => 'index'))."?page=".$request['page']."&sort=title&order=".($request['ord']['title']+1);
         if ($request['search']){
             echo "&search=".$request['search'];
         }
         ?>">Title</a></th>
         <th><a href="<?php
         echo $this->url('album', array('action' => 'index'))."?page=".$request['page']."&sort=artist&order=".($request['ord']['artist']+1);
         if ($request['search']){
             echo "&search=".$request['search'];
         }
         ?>">Artist</a></th>
         <th></th>
         <th></th>
     </tr>
     <?php foreach ($this->paginator as $album) : ?>
         <tr>
             <td><?php echo $this->escapeHtml($album->id);?></td>
             <td><?php echo $this->escapeHtml($album->title);?></td>
             <td><?php echo $this->escapeHtml($album->artist);?></td>
             <td>
                 <a href="<?php echo $this->url('album',
                     array('action' => 'edit', 'id' => $album->id));
                 ?>">Edit</a>
             </td>
             <td>
                 <a href="<?php echo $this->url('album',
                     array('action' => 'delete', 'id' => $album->id));
                 ?>">Delete</a>
             </td>
         </tr>
     <?php endforeach; 
     
     ?>
 </table>
  <?php
  echo $this->paginationControl(
          $this->paginator,
          'sliding',
          array('partial/paginator.phtml', 'Album'),
          array(
              'route' => 'album',
              'sort' => $request['sort'],
              'order' => $request['order'],
              'search' =>$request['search']
              
          )
          );
